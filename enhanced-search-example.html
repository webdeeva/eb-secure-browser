<!DOCTYPE html>
<html>
<head>
    <title>AI-Enhanced Search Example - Everything Black</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* AI Enhancement Styles */
        .ai-answer-box {
            background: linear-gradient(135deg, #1a1a1a 0%, #0f0f0f 100%);
            border: 2px solid #c44901;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        .ai-answer-box::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #c44901, #ff6b1a, #c44901);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .ai-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            background: #c44901;
            color: #fff;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            margin-bottom: 15px;
        }

        .ai-badge i {
            font-size: 14px;
        }

        .ai-answer {
            color: #fff;
            font-size: 16px;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .ai-sources {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .ai-source {
            background: rgba(196, 73, 1, 0.2);
            border: 1px solid rgba(196, 73, 1, 0.3);
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 12px;
            color: #c44901;
            text-decoration: none;
            transition: all 0.2s ease;
        }

        .ai-source:hover {
            background: rgba(196, 73, 1, 0.3);
            border-color: #c44901;
        }

        /* Enhanced Result Card */
        .result-item.ai-enhanced {
            border: 2px solid rgba(196, 73, 1, 0.3);
            background: linear-gradient(135deg, #fff 0%, #faf8f6 100%);
        }

        .ai-summary {
            background: rgba(196, 73, 1, 0.05);
            border-left: 3px solid #c44901;
            padding: 12px 15px;
            margin: 15px 0;
            border-radius: 0 6px 6px 0;
        }

        .ai-summary h4 {
            color: #c44901;
            font-size: 14px;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .ai-keypoints {
            list-style: none;
            padding: 0;
            margin: 10px 0;
        }

        .ai-keypoints li {
            padding: 4px 0;
            color: #666;
            font-size: 14px;
            display: flex;
            align-items: start;
            gap: 8px;
        }

        .ai-keypoints li i {
            color: #c44901;
            font-size: 10px;
            margin-top: 4px;
        }

        .business-verification {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            background: #e8f5e9;
            color: #2e7d32;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 12px;
            margin-top: 10px;
        }

        .business-verification.high-confidence {
            background: #e8f5e9;
            color: #2e7d32;
        }

        .business-verification.medium-confidence {
            background: #fff8e1;
            color: #f57f17;
        }

        .relevance-score {
            position: absolute;
            top: 20px;
            right: 20px;
            background: #c44901;
            color: #fff;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 16px;
        }

        /* Loading Animation */
        .ai-loading {
            display: flex;
            align-items: center;
            gap: 10px;
            color: #c44901;
            padding: 20px;
        }

        .ai-loading-dots {
            display: flex;
            gap: 4px;
        }

        .ai-loading-dots span {
            width: 8px;
            height: 8px;
            background: #c44901;
            border-radius: 50%;
            animation: bounce 1.4s infinite ease-in-out both;
        }

        .ai-loading-dots span:nth-child(1) { animation-delay: -0.32s; }
        .ai-loading-dots span:nth-child(2) { animation-delay: -0.16s; }

        @keyframes bounce {
            0%, 80%, 100% {
                transform: scale(0);
            } 40% {
                transform: scale(1);
            }
        }

        /* Interactive Features */
        .ask-followup {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }

        .ask-followup h4 {
            color: #333;
            font-size: 14px;
            margin-bottom: 10px;
        }

        .followup-questions {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .followup-btn {
            background: #f5f5f5;
            border: 1px solid #ddd;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .followup-btn:hover {
            background: #c44901;
            color: #fff;
            border-color: #c44901;
        }
    </style>
</head>
<body>
    <div class="search-results-container">
        <!-- Header (same as before) -->
        
        <div class="results-layout">
            <div class="main-results">
                <!-- AI Answer Box (shows for questions) -->
                <div class="ai-answer-box" id="ai-answer-box">
                    <div class="ai-badge">
                        <i class="fas fa-sparkles"></i>
                        AI-Powered Answer
                    </div>
                    <div class="ai-answer">
                        Based on my analysis of Black-owned tech companies in Atlanta, I found several excellent options. 
                        TechNoire Solutions stands out as a leading Black-owned software development firm specializing in 
                        AI and mobile applications. They've been in business since 2018 and have worked with Fortune 500 
                        companies. Another great option is Digital Diaspora, which focuses on web development and 
                        digital marketing for Black-owned businesses.
                    </div>
                    <div class="ai-sources">
                        <a href="#" class="ai-source">
                            <i class="fas fa-link"></i> TechNoire Solutions
                        </a>
                        <a href="#" class="ai-source">
                            <i class="fas fa-link"></i> Digital Diaspora
                        </a>
                        <a href="#" class="ai-source">
                            <i class="fas fa-link"></i> Black Tech Atlanta
                        </a>
                    </div>
                </div>

                <!-- AI-Enhanced Result Example -->
                <div class="result-item black-owned ai-enhanced">
                    <div class="relevance-score">9.5</div>
                    <div class="result-header">
                        <div>
                            <a href="#" class="result-title">
                                TechNoire Solutions - AI & Software Development
                                <i class="fas fa-check-circle verified-badge" title="Verified Black-Owned"></i>
                            </a>
                            <div class="result-url">www.technoiresolutions.com</div>
                        </div>
                        <span class="black-owned-badge">
                            <i class="fas fa-star"></i>
                            Black Owned
                        </span>
                    </div>
                    
                    <!-- Original snippet -->
                    <p class="result-description">
                        Leading Black-owned technology consulting firm specializing in custom software development...
                    </p>

                    <!-- AI Enhancement -->
                    <div class="ai-summary">
                        <h4>
                            <i class="fas fa-sparkles"></i>
                            AI Analysis
                        </h4>
                        <p style="color: #666; font-size: 14px; margin-bottom: 10px;">
                            TechNoire Solutions is a verified Black-owned tech company founded by Marcus Johnson in 2018. 
                            They specialize in AI-powered solutions, mobile app development, and enterprise software. 
                            The company has grown to 45+ employees and maintains offices in Atlanta and Houston.
                        </p>
                        
                        <ul class="ai-keypoints">
                            <li>
                                <i class="fas fa-check"></i>
                                Certified MBE (Minority Business Enterprise) since 2019
                            </li>
                            <li>
                                <i class="fas fa-check"></i>
                                Specializes in AI/ML, mobile apps, and cloud solutions
                            </li>
                            <li>
                                <i class="fas fa-check"></i>
                                Notable clients include Coca-Cola, Delta, and CDC
                            </li>
                            <li>
                                <i class="fas fa-check"></i>
                                Offers internship programs for HBCU students
                            </li>
                        </ul>

                        <div class="business-verification high-confidence">
                            <i class="fas fa-shield-check"></i>
                            High Confidence - Verified Black-Owned
                        </div>
                    </div>

                    <!-- Interactive Follow-ups -->
                    <div class="ask-followup">
                        <h4>Ask about this business:</h4>
                        <div class="followup-questions">
                            <button class="followup-btn" onclick="askQuestion('What services does TechNoire offer?')">
                                What services do they offer?
                            </button>
                            <button class="followup-btn" onclick="askQuestion('How can I contact TechNoire?')">
                                How to contact them?
                            </button>
                            <button class="followup-btn" onclick="askQuestion('Compare with other Black tech companies')">
                                Compare with others
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Loading State for AI Enhancement -->
                <div class="ai-loading" id="ai-loading" style="display: none;">
                    <div class="ai-loading-dots">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                    <span>AI is analyzing search results for deeper insights...</span>
                </div>

                <!-- Regular Results Continue... -->
            </div>

            <!-- Premium Sidebar (same as before) -->
        </div>
    </div>

    <script>
        // Example of AI-enhanced search interaction
        async function performEnhancedSearch(query) {
            // Show loading
            document.getElementById('ai-loading').style.display = 'flex';
            
            try {
                const response = await fetch(`/api/v1/search/enhanced?q=${encodeURIComponent(query)}&enhance=auto`);
                const data = await response.json();
                
                // Render AI answer if available
                if (data.aiAnswer) {
                    renderAIAnswer(data.aiAnswer);
                }
                
                // Render enhanced results
                renderEnhancedResults(data.results);
                
            } catch (error) {
                console.error('Search error:', error);
            } finally {
                document.getElementById('ai-loading').style.display = 'none';
            }
        }

        async function askQuestion(question) {
            const response = await fetch('/api/v1/search/ask', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ question })
            });
            
            const answer = await response.json();
            // Update AI answer box with new response
            renderAIAnswer(answer.data);
        }

        function renderAIAnswer(answer) {
            const answerBox = document.getElementById('ai-answer-box');
            answerBox.style.display = 'block';
            // Update content...
        }
    </script>
</body>
</html>